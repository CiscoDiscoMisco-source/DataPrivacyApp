"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/global-preferences/page",{

/***/ "(app-pages-browser)/./src/services/dataService.ts":
/*!*************************************!*\
  !*** ./src/services/dataService.ts ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dataService: function() { return /* binding */ dataService; }\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ dataService,default auto */ // Sample company data\nconst COMPANIES = [\n    {\n        id: \"1\",\n        name: \"TechCorp\",\n        logo: \"/logos/techcorp.png\",\n        industry: \"Technology\",\n        description: \"A leading technology company specializing in cloud services.\",\n        dataSharingPolicies: [\n            {\n                id: \"101\",\n                dataType: \"Personal Info\",\n                purpose: \"Account Management\",\n                thirdParties: [\n                    \"CustomerService Co.\",\n                    \"CloudSecurity Inc.\"\n                ],\n                description: \"Basic personal information used for account management and security.\"\n            },\n            {\n                id: \"102\",\n                dataType: \"Usage Data\",\n                purpose: \"Analytics\",\n                thirdParties: [\n                    \"Analytics Pro\",\n                    \"DataInsight Ltd.\"\n                ],\n                description: \"Information about how you use our services.\"\n            },\n            {\n                id: \"103\",\n                dataType: \"Location\",\n                purpose: \"Service Localization\",\n                thirdParties: [\n                    \"LocalSearch Inc.\"\n                ],\n                description: \"Your location data to provide local services.\"\n            }\n        ]\n    },\n    {\n        id: \"2\",\n        name: \"FinanceHub\",\n        logo: \"/logos/financehub.png\",\n        industry: \"Finance\",\n        description: \"Financial services and banking solutions.\",\n        dataSharingPolicies: [\n            {\n                id: \"201\",\n                dataType: \"Personal Info\",\n                purpose: \"Identity Verification\",\n                thirdParties: [\n                    \"VerifyID Inc.\",\n                    \"SecureCheck Corp.\"\n                ],\n                description: \"Verifying your identity for security and regulatory compliance.\"\n            },\n            {\n                id: \"202\",\n                dataType: \"Financial Data\",\n                purpose: \"Transaction Processing\",\n                thirdParties: [\n                    \"PaymentProcess Ltd.\",\n                    \"CreditCheck Co.\"\n                ],\n                description: \"Processing your financial transactions and credit history.\"\n            },\n            {\n                id: \"203\",\n                dataType: \"Location\",\n                purpose: \"Fraud Detection\",\n                thirdParties: [\n                    \"FraudShield Inc.\"\n                ],\n                description: \"Detecting unusual activity patterns for your security.\"\n            }\n        ]\n    },\n    {\n        id: \"3\",\n        name: \"HealthPlus\",\n        logo: \"/logos/healthplus.png\",\n        industry: \"Healthcare\",\n        description: \"Healthcare services and wellness solutions.\",\n        dataSharingPolicies: [\n            {\n                id: \"301\",\n                dataType: \"Personal Info\",\n                purpose: \"Patient Registration\",\n                thirdParties: [\n                    \"MedicalRecords Inc.\"\n                ],\n                description: \"Managing your patient information for better service.\"\n            },\n            {\n                id: \"302\",\n                dataType: \"Health Data\",\n                purpose: \"Treatment\",\n                thirdParties: [\n                    \"SpecialistNet\",\n                    \"LabResults Ltd.\"\n                ],\n                description: \"Health information used for diagnosis and treatment.\"\n            },\n            {\n                id: \"303\",\n                dataType: \"Insurance Info\",\n                purpose: \"Billing\",\n                thirdParties: [\n                    \"InsuranceBilling Co.\"\n                ],\n                description: \"Insurance details for processing claims and payments.\"\n            }\n        ]\n    }\n];\n// Default preferences (all disallowed initially)\nconst defaultPreferences = [\n    // Global preferences\n    {\n        id: \"g1\",\n        dataType: \"Personal Info\",\n        allowed: false\n    },\n    {\n        id: \"g2\",\n        dataType: \"Usage Data\",\n        allowed: false\n    },\n    {\n        id: \"g3\",\n        dataType: \"Location\",\n        allowed: false\n    },\n    {\n        id: \"g4\",\n        dataType: \"Financial Data\",\n        allowed: false\n    },\n    {\n        id: \"g5\",\n        dataType: \"Health Data\",\n        allowed: false\n    },\n    {\n        id: \"g6\",\n        dataType: \"Insurance Info\",\n        allowed: false\n    }\n];\n// Local storage keys\nconst COMPANIES_KEY = \"data-privacy-companies\";\nconst PREFERENCES_KEY = \"data-privacy-preferences\";\nconst preferenceChangeListeners = [];\nconst dataService = {\n    // Get all companies\n    getCompanies: ()=>{\n        if (false) {}\n        const storedCompanies = localStorage.getItem(COMPANIES_KEY);\n        if (!storedCompanies) {\n            localStorage.setItem(COMPANIES_KEY, JSON.stringify(COMPANIES));\n            return COMPANIES;\n        }\n        return JSON.parse(storedCompanies);\n    },\n    // Get a specific company\n    getCompany: (id)=>{\n        const companies = dataService.getCompanies();\n        return companies.find((company)=>company.id === id);\n    },\n    // Get all preferences\n    getPreferences: ()=>{\n        if (false) {}\n        const storedPreferences = localStorage.getItem(PREFERENCES_KEY);\n        if (!storedPreferences) {\n            localStorage.setItem(PREFERENCES_KEY, JSON.stringify(defaultPreferences));\n            return defaultPreferences;\n        }\n        return JSON.parse(storedPreferences);\n    },\n    // Get global preferences\n    getGlobalPreferences: ()=>{\n        const preferences = dataService.getPreferences();\n        return preferences.filter((pref)=>!pref.companyId);\n    },\n    // Get company-specific preferences\n    getCompanyPreferences: (companyId)=>{\n        const preferences = dataService.getPreferences();\n        return preferences.filter((pref)=>pref.companyId === companyId);\n    },\n    // Save a preference\n    savePreference: (preference)=>{\n        if (false) {}\n        const preferences = dataService.getPreferences();\n        // Find if preference already exists\n        const index = preferences.findIndex((p)=>p.dataType === preference.dataType && p.companyId === preference.companyId);\n        if (index >= 0) {\n            // Update existing preference\n            preferences[index] = preference;\n        } else {\n            // Add new preference\n            preferences.push(preference);\n        }\n        // Save to localStorage\n        localStorage.setItem(PREFERENCES_KEY, JSON.stringify(preferences));\n        // Notify listeners\n        dataService.notifyPreferenceChange();\n    },\n    // Clone preferences from one company to another\n    clonePreferences: (sourceCompanyId, targetCompanyId)=>{\n        if (false) {}\n        const preferences = dataService.getPreferences();\n        const sourcePreferences = preferences.filter((pref)=>pref.companyId === sourceCompanyId);\n        if (sourcePreferences.length === 0) {\n            // If no source preferences found, check if we should use global preferences\n            const globalPrefs = preferences.filter((pref)=>!pref.companyId);\n            if (globalPrefs.length > 0) {\n                // Create new preferences for target company based on global preferences\n                const targetPreferences = globalPrefs.map((pref)=>({\n                        id: \"\".concat(targetCompanyId, \"-\").concat(pref.dataType.replace(/\\s+/g, \"-\").toLowerCase()),\n                        dataType: pref.dataType,\n                        allowed: pref.allowed,\n                        companyId: targetCompanyId\n                    }));\n                // Remove any existing preferences for the target company\n                const filteredPreferences = preferences.filter((pref)=>pref.companyId !== targetCompanyId);\n                // Add new preferences\n                const updatedPreferences = [\n                    ...filteredPreferences,\n                    ...targetPreferences\n                ];\n                // Save to localStorage\n                localStorage.setItem(PREFERENCES_KEY, JSON.stringify(updatedPreferences));\n                // Notify listeners\n                dataService.notifyPreferenceChange();\n            }\n            return;\n        }\n        // Get target company to ensure we clone all relevant data types\n        const targetCompany = dataService.getCompany(targetCompanyId);\n        if (!targetCompany) return;\n        // Create a map of source preferences for quick lookup\n        const sourcePrefsMap = new Map();\n        sourcePreferences.forEach((pref)=>{\n            sourcePrefsMap.set(pref.dataType, pref);\n        });\n        // Create new preferences for target company\n        const targetPreferences = [];\n        // Ensure we create a preference for each data type in the target company\n        targetCompany.dataSharingPolicies.forEach((policy)=>{\n            const sourcePref = sourcePrefsMap.get(policy.dataType);\n            // Use the source preference if available, otherwise use global preference\n            const globalPref = preferences.find((p)=>p.dataType === policy.dataType && !p.companyId);\n            const allowed = sourcePref ? sourcePref.allowed : globalPref ? globalPref.allowed : false;\n            targetPreferences.push({\n                id: \"\".concat(targetCompanyId, \"-\").concat(policy.dataType.replace(/\\s+/g, \"-\").toLowerCase()),\n                dataType: policy.dataType,\n                allowed: allowed,\n                companyId: targetCompanyId\n            });\n        });\n        // Remove any existing preferences for the target company\n        const filteredPreferences = preferences.filter((pref)=>pref.companyId !== targetCompanyId);\n        // Add new preferences\n        const updatedPreferences = [\n            ...filteredPreferences,\n            ...targetPreferences\n        ];\n        // Save to localStorage\n        localStorage.setItem(PREFERENCES_KEY, JSON.stringify(updatedPreferences));\n        // Notify listeners\n        dataService.notifyPreferenceChange();\n    },\n    // Get effective preference (taking into account global and company-specific)\n    getEffectivePreference: (dataType, companyId)=>{\n        const preferences = dataService.getPreferences();\n        // Check for company-specific preference\n        const companyPref = preferences.find((p)=>p.dataType === dataType && p.companyId === companyId);\n        if (companyPref) {\n            return companyPref.allowed;\n        }\n        // Fall back to global preference\n        const globalPref = preferences.find((p)=>p.dataType === dataType && !p.companyId);\n        return globalPref ? globalPref.allowed : false;\n    },\n    // Subscribe to preference changes\n    subscribeToPreferenceChanges: (listener)=>{\n        preferenceChangeListeners.push(listener);\n        // Return unsubscribe function\n        return ()=>{\n            const index = preferenceChangeListeners.indexOf(listener);\n            if (index > -1) {\n                preferenceChangeListeners.splice(index, 1);\n            }\n        };\n    },\n    // Notify all listeners of preference changes\n    notifyPreferenceChange: ()=>{\n        preferenceChangeListeners.forEach((listener)=>listener());\n    }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (dataService);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9kYXRhU2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7O3lFQUtBLHNCQUFzQjtBQUN0QixNQUFNQSxZQUF1QjtJQUMzQjtRQUNFQyxJQUFJO1FBQ0pDLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxVQUFVO1FBQ1ZDLGFBQWE7UUFDYkMscUJBQXFCO1lBQ25CO2dCQUNFTCxJQUFJO2dCQUNKTSxVQUFVO2dCQUNWQyxTQUFTO2dCQUNUQyxjQUFjO29CQUFDO29CQUF1QjtpQkFBcUI7Z0JBQzNESixhQUFhO1lBQ2Y7WUFDQTtnQkFDRUosSUFBSTtnQkFDSk0sVUFBVTtnQkFDVkMsU0FBUztnQkFDVEMsY0FBYztvQkFBQztvQkFBaUI7aUJBQW1CO2dCQUNuREosYUFBYTtZQUNmO1lBQ0E7Z0JBQ0VKLElBQUk7Z0JBQ0pNLFVBQVU7Z0JBQ1ZDLFNBQVM7Z0JBQ1RDLGNBQWM7b0JBQUM7aUJBQW1CO2dCQUNsQ0osYUFBYTtZQUNmO1NBQ0Q7SUFDSDtJQUNBO1FBQ0VKLElBQUk7UUFDSkMsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsYUFBYTtRQUNiQyxxQkFBcUI7WUFDbkI7Z0JBQ0VMLElBQUk7Z0JBQ0pNLFVBQVU7Z0JBQ1ZDLFNBQVM7Z0JBQ1RDLGNBQWM7b0JBQUM7b0JBQWlCO2lCQUFvQjtnQkFDcERKLGFBQWE7WUFDZjtZQUNBO2dCQUNFSixJQUFJO2dCQUNKTSxVQUFVO2dCQUNWQyxTQUFTO2dCQUNUQyxjQUFjO29CQUFDO29CQUF1QjtpQkFBa0I7Z0JBQ3hESixhQUFhO1lBQ2Y7WUFDQTtnQkFDRUosSUFBSTtnQkFDSk0sVUFBVTtnQkFDVkMsU0FBUztnQkFDVEMsY0FBYztvQkFBQztpQkFBbUI7Z0JBQ2xDSixhQUFhO1lBQ2Y7U0FDRDtJQUNIO0lBQ0E7UUFDRUosSUFBSTtRQUNKQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsVUFBVTtRQUNWQyxhQUFhO1FBQ2JDLHFCQUFxQjtZQUNuQjtn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S0FBS0MsU0FBUyxDQUFDZ0M7UUFFckQsbUJBQW1CO1FBQ25CdkMsWUFBWTJCLHNCQUFzQjtJQUNwQztJQUVBLDZFQUE2RTtJQUM3RXNCLHdCQUF3QixDQUFDekQsVUFBa0IyQjtRQUN6QyxNQUFNSCxjQUFjaEIsWUFBWWEsY0FBYztRQUU5Qyx3Q0FBd0M7UUFDeEMsTUFBTXFDLGNBQWNsQyxZQUFZTCxJQUFJLENBQ2xDYyxDQUFBQSxJQUFLQSxFQUFFakMsUUFBUSxLQUFLQSxZQUFZaUMsRUFBRU4sU0FBUyxLQUFLQTtRQUdsRCxJQUFJK0IsYUFBYTtZQUNmLE9BQU9BLFlBQVl0RCxPQUFPO1FBQzVCO1FBRUEsaUNBQWlDO1FBQ2pDLE1BQU1vRCxhQUFhaEMsWUFBWUwsSUFBSSxDQUNqQ2MsQ0FBQUEsSUFBS0EsRUFBRWpDLFFBQVEsS0FBS0EsWUFBWSxDQUFDaUMsRUFBRU4sU0FBUztRQUc5QyxPQUFPNkIsYUFBYUEsV0FBV3BELE9BQU8sR0FBRztJQUMzQztJQUVBLGtDQUFrQztJQUNsQ3VELDhCQUE4QixDQUFDQztRQUM3QnJELDBCQUEwQjJCLElBQUksQ0FBQzBCO1FBRS9CLDhCQUE4QjtRQUM5QixPQUFPO1lBQ0wsTUFBTTdCLFFBQVF4QiwwQkFBMEJzRCxPQUFPLENBQUNEO1lBQ2hELElBQUk3QixRQUFRLENBQUMsR0FBRztnQkFDZHhCLDBCQUEwQnVELE1BQU0sQ0FBQy9CLE9BQU87WUFDMUM7UUFDRjtJQUNGO0lBRUEsNkNBQTZDO0lBQzdDSSx3QkFBd0I7UUFDdEI1QiwwQkFBMEI0QyxPQUFPLENBQUNTLENBQUFBLFdBQVlBO0lBQ2hEO0FBQ0YsRUFBRTtBQUVGLCtEQUFlcEQsV0FBV0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvc2VydmljZXMvZGF0YVNlcnZpY2UudHM/MDg0NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IENvbXBhbnksIERhdGFTaGFyaW5nUG9saWN5IH0gZnJvbSAnQC9tb2RlbHMvY29tcGFueSc7XG5pbXBvcnQgeyBQcmVmZXJlbmNlIH0gZnJvbSAnQC9tb2RlbHMvcHJlZmVyZW5jZSc7XG5cbi8vIFNhbXBsZSBjb21wYW55IGRhdGFcbmNvbnN0IENPTVBBTklFUzogQ29tcGFueVtdID0gW1xuICB7XG4gICAgaWQ6ICcxJyxcbiAgICBuYW1lOiAnVGVjaENvcnAnLFxuICAgIGxvZ286ICcvbG9nb3MvdGVjaGNvcnAucG5nJyxcbiAgICBpbmR1c3RyeTogJ1RlY2hub2xvZ3knLFxuICAgIGRlc2NyaXB0aW9uOiAnQSBsZWFkaW5nIHRlY2hub2xvZ3kgY29tcGFueSBzcGVjaWFsaXppbmcgaW4gY2xvdWQgc2VydmljZXMuJyxcbiAgICBkYXRhU2hhcmluZ1BvbGljaWVzOiBbXG4gICAgICB7XG4gICAgICAgIGlkOiAnMTAxJyxcbiAgICAgICAgZGF0YVR5cGU6ICdQZXJzb25hbCBJbmZvJyxcbiAgICAgICAgcHVycG9zZTogJ0FjY291bnQgTWFuYWdlbWVudCcsXG4gICAgICAgIHRoaXJkUGFydGllczogWydDdXN0b21lclNlcnZpY2UgQ28uJywgJ0Nsb3VkU2VjdXJpdHkgSW5jLiddLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Jhc2ljIHBlcnNvbmFsIGluZm9ybWF0aW9uIHVzZWQgZm9yIGFjY291bnQgbWFuYWdlbWVudCBhbmQgc2VjdXJpdHkuJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICcxMDInLFxuICAgICAgICBkYXRhVHlwZTogJ1VzYWdlIERhdGEnLFxuICAgICAgICBwdXJwb3NlOiAnQW5hbHl0aWNzJyxcbiAgICAgICAgdGhpcmRQYXJ0aWVzOiBbJ0FuYWx5dGljcyBQcm8nLCAnRGF0YUluc2lnaHQgTHRkLiddLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0luZm9ybWF0aW9uIGFib3V0IGhvdyB5b3UgdXNlIG91ciBzZXJ2aWNlcy4nXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzEwMycsXG4gICAgICAgIGRhdGFUeXBlOiAnTG9jYXRpb24nLFxuICAgICAgICBwdXJwb3NlOiAnU2VydmljZSBMb2NhbGl6YXRpb24nLFxuICAgICAgICB0aGlyZFBhcnRpZXM6IFsnTG9jYWxTZWFyY2ggSW5jLiddLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1lvdXIgbG9jYXRpb24gZGF0YSB0byBwcm92aWRlIGxvY2FsIHNlcnZpY2VzLidcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBpZDogJzInLFxuICAgIG5hbWU6ICdGaW5hbmNlSHViJyxcbiAgICBsb2dvOiAnL2xvZ29zL2ZpbmFuY2VodWIucG5nJyxcbiAgICBpbmR1c3RyeTogJ0ZpbmFuY2UnLFxuICAgIGRlc2NyaXB0aW9uOiAnRmluYW5jaWFsIHNlcnZpY2VzIGFuZCBiYW5raW5nIHNvbHV0aW9ucy4nLFxuICAgIGRhdGFTaGFyaW5nUG9saWNpZXM6IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICcyMDEnLFxuICAgICAgICBkYXRhVHlwZTogJ1BlcnNvbmFsIEluZm8nLFxuICAgICAgICBwdXJwb3NlOiAnSWRlbnRpdHkgVmVyaWZpY2F0aW9uJyxcbiAgICAgICAgdGhpcmRQYXJ0aWVzOiBbJ1ZlcmlmeUlEIEluYy4nLCAnU2VjdXJlQ2hlY2sgQ29ycC4nXSxcbiAgICAgICAgZGVzY3JpcHRpb246ICdWZXJpZnlpbmcgeW91ciBpZGVudGl0eSBmb3Igc2VjdXJpdHkgYW5kIHJlZ3VsYXRvcnkgY29tcGxpYW5jZS4nXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzIwMicsXG4gICAgICAgIGRhdGFUeXBlOiAnRmluYW5jaWFsIERhdGEnLFxuICAgICAgICBwdXJwb3NlOiAnVHJhbnNhY3Rpb24gUHJvY2Vzc2luZycsXG4gICAgICAgIHRoaXJkUGFydGllczogWydQYXltZW50UHJvY2VzcyBMdGQuJywgJ0NyZWRpdENoZWNrIENvLiddLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb2Nlc3NpbmcgeW91ciBmaW5hbmNpYWwgdHJhbnNhY3Rpb25zIGFuZCBjcmVkaXQgaGlzdG9yeS4nXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzIwMycsXG4gICAgICAgIGRhdGFUeXBlOiAnTG9jYXRpb24nLFxuICAgICAgICBwdXJwb3NlOiAnRnJhdWQgRGV0ZWN0aW9uJyxcbiAgICAgICAgdGhpcmRQYXJ0aWVzOiBbJ0ZyYXVkU2hpZWxkIEluYy4nXSxcbiAgICAgICAgZGVzY3JpcHRpb246ICdEZXRlY3RpbmcgdW51c3VhbCBhY3Rpdml0eSBwYXR0ZXJucyBmb3IgeW91ciBzZWN1cml0eS4nXG4gICAgICB9XG4gICAgXVxuICB9LFxuICB7XG4gICAgaWQ6ICczJyxcbiAgICBuYW1lOiAnSGVhbHRoUGx1cycsXG4gICAgbG9nbzogJy9sb2dvcy9oZWFsdGhwbHVzLnBuZycsXG4gICAgaW5kdXN0cnk6ICdIZWFsdGhjYXJlJyxcbiAgICBkZXNjcmlwdGlvbjogJ0hlYWx0aGNhcmUgc2VydmljZXMgYW5kIHdlbGxuZXNzIHNvbHV0aW9ucy4nLFxuICAgIGRhdGFTaGFyaW5nUG9saWNpZXM6IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICczMDEnLFxuICAgICAgICBkYXRhVHlwZTogJ1BlcnNvbmFsIEluZm8nLFxuICAgICAgICBwdXJwb3NlOiAnUGF0aWVudCBSZWdpc3RyYXRpb24nLFxuICAgICAgICB0aGlyZFBhcnRpZXM6IFsnTWVkaWNhbFJlY29yZHMgSW5jLiddLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ01hbmFnaW5nIHlvdXIgcGF0aWVudCBpbmZvcm1hdGlvbiBmb3IgYmV0dGVyIHNlcnZpY2UuJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICczMDInLFxuICAgICAgICBkYXRhVHlwZTogJ0hlYWx0aCBEYXRhJyxcbiAgICAgICAgcHVycG9zZTogJ1RyZWF0bWVudCcsXG4gICAgICAgIHRoaXJkUGFydGllczogWydTcGVjaWFsaXN0TmV0JywgJ0xhYlJlc3VsdHMgTHRkLiddLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0hlYWx0aCBpbmZvcm1hdGlvbiB1c2VkIGZvciBkaWFnbm9zaXMgYW5kIHRyZWF0bWVudC4nXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzMwMycsXG4gICAgICAgIGRhdGFUeXBlOiAnSW5zdXJhbmNlIEluZm8nLFxuICAgICAgICBwdXJwb3NlOiAnQmlsbGluZycsXG4gICAgICAgIHRoaXJkUGFydGllczogWydJbnN1cmFuY2VCaWxsaW5nIENvLiddLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0luc3VyYW5jZSBkZXRhaWxzIGZvciBwcm9jZXNzaW5nIGNsYWltcyBhbmQgcGF5bWVudHMuJ1xuICAgICAgfVxuICAgIF1cbiAgfVxuXTtcblxuLy8gRGVmYXVsdCBwcmVmZXJlbmNlcyAoYWxsIGRpc2FsbG93ZWQgaW5pdGlhbGx5KVxuY29uc3QgZGVmYXVsdFByZWZlcmVuY2VzOiBQcmVmZXJlbmNlW10gPSBbXG4gIC8vIEdsb2JhbCBwcmVmZXJlbmNlc1xuICB7IGlkOiAnZzEnLCBkYXRhVHlwZTogJ1BlcnNvbmFsIEluZm8nLCBhbGxvd2VkOiBmYWxzZSB9LFxuICB7IGlkOiAnZzInLCBkYXRhVHlwZTogJ1VzYWdlIERhdGEnLCBhbGxvd2VkOiBmYWxzZSB9LFxuICB7IGlkOiAnZzMnLCBkYXRhVHlwZTogJ0xvY2F0aW9uJywgYWxsb3dlZDogZmFsc2UgfSxcbiAgeyBpZDogJ2c0JywgZGF0YVR5cGU6ICdGaW5hbmNpYWwgRGF0YScsIGFsbG93ZWQ6IGZhbHNlIH0sXG4gIHsgaWQ6ICdnNScsIGRhdGFUeXBlOiAnSGVhbHRoIERhdGEnLCBhbGxvd2VkOiBmYWxzZSB9LFxuICB7IGlkOiAnZzYnLCBkYXRhVHlwZTogJ0luc3VyYW5jZSBJbmZvJywgYWxsb3dlZDogZmFsc2UgfVxuXTtcblxuLy8gTG9jYWwgc3RvcmFnZSBrZXlzXG5jb25zdCBDT01QQU5JRVNfS0VZID0gJ2RhdGEtcHJpdmFjeS1jb21wYW5pZXMnO1xuY29uc3QgUFJFRkVSRU5DRVNfS0VZID0gJ2RhdGEtcHJpdmFjeS1wcmVmZXJlbmNlcyc7XG5cbi8vIEV2ZW50IGVtaXR0ZXIgZm9yIHByZWZlcmVuY2UgY2hhbmdlc1xudHlwZSBQcmVmZXJlbmNlQ2hhbmdlTGlzdGVuZXIgPSAoKSA9PiB2b2lkO1xuY29uc3QgcHJlZmVyZW5jZUNoYW5nZUxpc3RlbmVyczogUHJlZmVyZW5jZUNoYW5nZUxpc3RlbmVyW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGRhdGFTZXJ2aWNlID0ge1xuICAvLyBHZXQgYWxsIGNvbXBhbmllc1xuICBnZXRDb21wYW5pZXM6ICgpOiBDb21wYW55W10gPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIENPTVBBTklFUztcbiAgICBcbiAgICBjb25zdCBzdG9yZWRDb21wYW5pZXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT01QQU5JRVNfS0VZKTtcbiAgICBpZiAoIXN0b3JlZENvbXBhbmllcykge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09NUEFOSUVTX0tFWSwgSlNPTi5zdHJpbmdpZnkoQ09NUEFOSUVTKSk7XG4gICAgICByZXR1cm4gQ09NUEFOSUVTO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdG9yZWRDb21wYW5pZXMpO1xuICB9LFxuICBcbiAgLy8gR2V0IGEgc3BlY2lmaWMgY29tcGFueVxuICBnZXRDb21wYW55OiAoaWQ6IHN0cmluZyk6IENvbXBhbnkgfCB1bmRlZmluZWQgPT4ge1xuICAgIGNvbnN0IGNvbXBhbmllcyA9IGRhdGFTZXJ2aWNlLmdldENvbXBhbmllcygpO1xuICAgIHJldHVybiBjb21wYW5pZXMuZmluZChjb21wYW55ID0+IGNvbXBhbnkuaWQgPT09IGlkKTtcbiAgfSxcbiAgXG4gIC8vIEdldCBhbGwgcHJlZmVyZW5jZXNcbiAgZ2V0UHJlZmVyZW5jZXM6ICgpOiBQcmVmZXJlbmNlW10gPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGRlZmF1bHRQcmVmZXJlbmNlcztcbiAgICBcbiAgICBjb25zdCBzdG9yZWRQcmVmZXJlbmNlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFBSRUZFUkVOQ0VTX0tFWSk7XG4gICAgaWYgKCFzdG9yZWRQcmVmZXJlbmNlcykge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oUFJFRkVSRU5DRVNfS0VZLCBKU09OLnN0cmluZ2lmeShkZWZhdWx0UHJlZmVyZW5jZXMpKTtcbiAgICAgIHJldHVybiBkZWZhdWx0UHJlZmVyZW5jZXM7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBKU09OLnBhcnNlKHN0b3JlZFByZWZlcmVuY2VzKTtcbiAgfSxcbiAgXG4gIC8vIEdldCBnbG9iYWwgcHJlZmVyZW5jZXNcbiAgZ2V0R2xvYmFsUHJlZmVyZW5jZXM6ICgpOiBQcmVmZXJlbmNlW10gPT4ge1xuICAgIGNvbnN0IHByZWZlcmVuY2VzID0gZGF0YVNlcnZpY2UuZ2V0UHJlZmVyZW5jZXMoKTtcbiAgICByZXR1cm4gcHJlZmVyZW5jZXMuZmlsdGVyKHByZWYgPT4gIXByZWYuY29tcGFueUlkKTtcbiAgfSxcbiAgXG4gIC8vIEdldCBjb21wYW55LXNwZWNpZmljIHByZWZlcmVuY2VzXG4gIGdldENvbXBhbnlQcmVmZXJlbmNlczogKGNvbXBhbnlJZDogc3RyaW5nKTogUHJlZmVyZW5jZVtdID0+IHtcbiAgICBjb25zdCBwcmVmZXJlbmNlcyA9IGRhdGFTZXJ2aWNlLmdldFByZWZlcmVuY2VzKCk7XG4gICAgcmV0dXJuIHByZWZlcmVuY2VzLmZpbHRlcihwcmVmID0+IHByZWYuY29tcGFueUlkID09PSBjb21wYW55SWQpO1xuICB9LFxuICBcbiAgLy8gU2F2ZSBhIHByZWZlcmVuY2VcbiAgc2F2ZVByZWZlcmVuY2U6IChwcmVmZXJlbmNlOiBQcmVmZXJlbmNlKTogdm9pZCA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJlZmVyZW5jZXMgPSBkYXRhU2VydmljZS5nZXRQcmVmZXJlbmNlcygpO1xuICAgIFxuICAgIC8vIEZpbmQgaWYgcHJlZmVyZW5jZSBhbHJlYWR5IGV4aXN0c1xuICAgIGNvbnN0IGluZGV4ID0gcHJlZmVyZW5jZXMuZmluZEluZGV4KFxuICAgICAgcCA9PiBwLmRhdGFUeXBlID09PSBwcmVmZXJlbmNlLmRhdGFUeXBlICYmIFxuICAgICAgcC5jb21wYW55SWQgPT09IHByZWZlcmVuY2UuY29tcGFueUlkXG4gICAgKTtcbiAgICBcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHByZWZlcmVuY2VcbiAgICAgIHByZWZlcmVuY2VzW2luZGV4XSA9IHByZWZlcmVuY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEFkZCBuZXcgcHJlZmVyZW5jZVxuICAgICAgcHJlZmVyZW5jZXMucHVzaChwcmVmZXJlbmNlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2VcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShQUkVGRVJFTkNFU19LRVksIEpTT04uc3RyaW5naWZ5KHByZWZlcmVuY2VzKSk7XG4gICAgXG4gICAgLy8gTm90aWZ5IGxpc3RlbmVyc1xuICAgIGRhdGFTZXJ2aWNlLm5vdGlmeVByZWZlcmVuY2VDaGFuZ2UoKTtcbiAgfSxcbiAgXG4gIC8vIENsb25lIHByZWZlcmVuY2VzIGZyb20gb25lIGNvbXBhbnkgdG8gYW5vdGhlclxuICBjbG9uZVByZWZlcmVuY2VzOiAoc291cmNlQ29tcGFueUlkOiBzdHJpbmcsIHRhcmdldENvbXBhbnlJZDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJlZmVyZW5jZXMgPSBkYXRhU2VydmljZS5nZXRQcmVmZXJlbmNlcygpO1xuICAgIGNvbnN0IHNvdXJjZVByZWZlcmVuY2VzID0gcHJlZmVyZW5jZXMuZmlsdGVyKHByZWYgPT4gcHJlZi5jb21wYW55SWQgPT09IHNvdXJjZUNvbXBhbnlJZCk7XG4gICAgXG4gICAgaWYgKHNvdXJjZVByZWZlcmVuY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gSWYgbm8gc291cmNlIHByZWZlcmVuY2VzIGZvdW5kLCBjaGVjayBpZiB3ZSBzaG91bGQgdXNlIGdsb2JhbCBwcmVmZXJlbmNlc1xuICAgICAgY29uc3QgZ2xvYmFsUHJlZnMgPSBwcmVmZXJlbmNlcy5maWx0ZXIocHJlZiA9PiAhcHJlZi5jb21wYW55SWQpO1xuICAgICAgXG4gICAgICBpZiAoZ2xvYmFsUHJlZnMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBDcmVhdGUgbmV3IHByZWZlcmVuY2VzIGZvciB0YXJnZXQgY29tcGFueSBiYXNlZCBvbiBnbG9iYWwgcHJlZmVyZW5jZXNcbiAgICAgICAgY29uc3QgdGFyZ2V0UHJlZmVyZW5jZXMgPSBnbG9iYWxQcmVmcy5tYXAocHJlZiA9PiAoe1xuICAgICAgICAgIGlkOiBgJHt0YXJnZXRDb21wYW55SWR9LSR7cHJlZi5kYXRhVHlwZS5yZXBsYWNlKC9cXHMrL2csICctJykudG9Mb3dlckNhc2UoKX1gLFxuICAgICAgICAgIGRhdGFUeXBlOiBwcmVmLmRhdGFUeXBlLFxuICAgICAgICAgIGFsbG93ZWQ6IHByZWYuYWxsb3dlZCxcbiAgICAgICAgICBjb21wYW55SWQ6IHRhcmdldENvbXBhbnlJZFxuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIHByZWZlcmVuY2VzIGZvciB0aGUgdGFyZ2V0IGNvbXBhbnlcbiAgICAgICAgY29uc3QgZmlsdGVyZWRQcmVmZXJlbmNlcyA9IHByZWZlcmVuY2VzLmZpbHRlcihwcmVmID0+IHByZWYuY29tcGFueUlkICE9PSB0YXJnZXRDb21wYW55SWQpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIG5ldyBwcmVmZXJlbmNlc1xuICAgICAgICBjb25zdCB1cGRhdGVkUHJlZmVyZW5jZXMgPSBbLi4uZmlsdGVyZWRQcmVmZXJlbmNlcywgLi4udGFyZ2V0UHJlZmVyZW5jZXNdO1xuICAgICAgICBcbiAgICAgICAgLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2VcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oUFJFRkVSRU5DRVNfS0VZLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkUHJlZmVyZW5jZXMpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE5vdGlmeSBsaXN0ZW5lcnNcbiAgICAgICAgZGF0YVNlcnZpY2Uubm90aWZ5UHJlZmVyZW5jZUNoYW5nZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBHZXQgdGFyZ2V0IGNvbXBhbnkgdG8gZW5zdXJlIHdlIGNsb25lIGFsbCByZWxldmFudCBkYXRhIHR5cGVzXG4gICAgY29uc3QgdGFyZ2V0Q29tcGFueSA9IGRhdGFTZXJ2aWNlLmdldENvbXBhbnkodGFyZ2V0Q29tcGFueUlkKTtcbiAgICBpZiAoIXRhcmdldENvbXBhbnkpIHJldHVybjtcbiAgICBcbiAgICAvLyBDcmVhdGUgYSBtYXAgb2Ygc291cmNlIHByZWZlcmVuY2VzIGZvciBxdWljayBsb29rdXBcbiAgICBjb25zdCBzb3VyY2VQcmVmc01hcCA9IG5ldyBNYXA8c3RyaW5nLCBQcmVmZXJlbmNlPigpO1xuICAgIHNvdXJjZVByZWZlcmVuY2VzLmZvckVhY2gocHJlZiA9PiB7XG4gICAgICBzb3VyY2VQcmVmc01hcC5zZXQocHJlZi5kYXRhVHlwZSwgcHJlZik7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIG5ldyBwcmVmZXJlbmNlcyBmb3IgdGFyZ2V0IGNvbXBhbnlcbiAgICBjb25zdCB0YXJnZXRQcmVmZXJlbmNlczogUHJlZmVyZW5jZVtdID0gW107XG4gICAgXG4gICAgLy8gRW5zdXJlIHdlIGNyZWF0ZSBhIHByZWZlcmVuY2UgZm9yIGVhY2ggZGF0YSB0eXBlIGluIHRoZSB0YXJnZXQgY29tcGFueVxuICAgIHRhcmdldENvbXBhbnkuZGF0YVNoYXJpbmdQb2xpY2llcy5mb3JFYWNoKHBvbGljeSA9PiB7XG4gICAgICBjb25zdCBzb3VyY2VQcmVmID0gc291cmNlUHJlZnNNYXAuZ2V0KHBvbGljeS5kYXRhVHlwZSk7XG4gICAgICBcbiAgICAgIC8vIFVzZSB0aGUgc291cmNlIHByZWZlcmVuY2UgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgdXNlIGdsb2JhbCBwcmVmZXJlbmNlXG4gICAgICBjb25zdCBnbG9iYWxQcmVmID0gcHJlZmVyZW5jZXMuZmluZChcbiAgICAgICAgcCA9PiBwLmRhdGFUeXBlID09PSBwb2xpY3kuZGF0YVR5cGUgJiYgIXAuY29tcGFueUlkXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBhbGxvd2VkID0gc291cmNlUHJlZiBcbiAgICAgICAgPyBzb3VyY2VQcmVmLmFsbG93ZWQgXG4gICAgICAgIDogKGdsb2JhbFByZWYgPyBnbG9iYWxQcmVmLmFsbG93ZWQgOiBmYWxzZSk7XG4gICAgICBcbiAgICAgIHRhcmdldFByZWZlcmVuY2VzLnB1c2goe1xuICAgICAgICBpZDogYCR7dGFyZ2V0Q29tcGFueUlkfS0ke3BvbGljeS5kYXRhVHlwZS5yZXBsYWNlKC9cXHMrL2csICctJykudG9Mb3dlckNhc2UoKX1gLFxuICAgICAgICBkYXRhVHlwZTogcG9saWN5LmRhdGFUeXBlLFxuICAgICAgICBhbGxvd2VkOiBhbGxvd2VkLFxuICAgICAgICBjb21wYW55SWQ6IHRhcmdldENvbXBhbnlJZFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gUmVtb3ZlIGFueSBleGlzdGluZyBwcmVmZXJlbmNlcyBmb3IgdGhlIHRhcmdldCBjb21wYW55XG4gICAgY29uc3QgZmlsdGVyZWRQcmVmZXJlbmNlcyA9IHByZWZlcmVuY2VzLmZpbHRlcihwcmVmID0+IHByZWYuY29tcGFueUlkICE9PSB0YXJnZXRDb21wYW55SWQpO1xuICAgIFxuICAgIC8vIEFkZCBuZXcgcHJlZmVyZW5jZXNcbiAgICBjb25zdCB1cGRhdGVkUHJlZmVyZW5jZXMgPSBbLi4uZmlsdGVyZWRQcmVmZXJlbmNlcywgLi4udGFyZ2V0UHJlZmVyZW5jZXNdO1xuICAgIFxuICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oUFJFRkVSRU5DRVNfS0VZLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkUHJlZmVyZW5jZXMpKTtcbiAgICBcbiAgICAvLyBOb3RpZnkgbGlzdGVuZXJzXG4gICAgZGF0YVNlcnZpY2Uubm90aWZ5UHJlZmVyZW5jZUNoYW5nZSgpO1xuICB9LFxuICBcbiAgLy8gR2V0IGVmZmVjdGl2ZSBwcmVmZXJlbmNlICh0YWtpbmcgaW50byBhY2NvdW50IGdsb2JhbCBhbmQgY29tcGFueS1zcGVjaWZpYylcbiAgZ2V0RWZmZWN0aXZlUHJlZmVyZW5jZTogKGRhdGFUeXBlOiBzdHJpbmcsIGNvbXBhbnlJZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgcHJlZmVyZW5jZXMgPSBkYXRhU2VydmljZS5nZXRQcmVmZXJlbmNlcygpO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBjb21wYW55LXNwZWNpZmljIHByZWZlcmVuY2VcbiAgICBjb25zdCBjb21wYW55UHJlZiA9IHByZWZlcmVuY2VzLmZpbmQoXG4gICAgICBwID0+IHAuZGF0YVR5cGUgPT09IGRhdGFUeXBlICYmIHAuY29tcGFueUlkID09PSBjb21wYW55SWRcbiAgICApO1xuICAgIFxuICAgIGlmIChjb21wYW55UHJlZikge1xuICAgICAgcmV0dXJuIGNvbXBhbnlQcmVmLmFsbG93ZWQ7XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGwgYmFjayB0byBnbG9iYWwgcHJlZmVyZW5jZVxuICAgIGNvbnN0IGdsb2JhbFByZWYgPSBwcmVmZXJlbmNlcy5maW5kKFxuICAgICAgcCA9PiBwLmRhdGFUeXBlID09PSBkYXRhVHlwZSAmJiAhcC5jb21wYW55SWRcbiAgICApO1xuICAgIFxuICAgIHJldHVybiBnbG9iYWxQcmVmID8gZ2xvYmFsUHJlZi5hbGxvd2VkIDogZmFsc2U7XG4gIH0sXG4gIFxuICAvLyBTdWJzY3JpYmUgdG8gcHJlZmVyZW5jZSBjaGFuZ2VzXG4gIHN1YnNjcmliZVRvUHJlZmVyZW5jZUNoYW5nZXM6IChsaXN0ZW5lcjogUHJlZmVyZW5jZUNoYW5nZUxpc3RlbmVyKTogKCkgPT4gdm9pZCA9PiB7XG4gICAgcHJlZmVyZW5jZUNoYW5nZUxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICBcbiAgICAvLyBSZXR1cm4gdW5zdWJzY3JpYmUgZnVuY3Rpb25cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBwcmVmZXJlbmNlQ2hhbmdlTGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgcHJlZmVyZW5jZUNoYW5nZUxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIFxuICAvLyBOb3RpZnkgYWxsIGxpc3RlbmVycyBvZiBwcmVmZXJlbmNlIGNoYW5nZXNcbiAgbm90aWZ5UHJlZmVyZW5jZUNoYW5nZTogKCk6IHZvaWQgPT4ge1xuICAgIHByZWZlcmVuY2VDaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcigpKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZGF0YVNlcnZpY2U7ICJdLCJuYW1lcyI6WyJDT01QQU5JRVMiLCJpZCIsIm5hbWUiLCJsb2dvIiwiaW5kdXN0cnkiLCJkZXNjcmlwdGlvbiIsImRhdGFTaGFyaW5nUG9saWNpZXMiLCJkYXRhVHlwZSIsInB1cnBvc2UiLCJ0aGlyZFBhcnRpZXMiLCJkZWZhdWx0UHJlZmVyZW5jZXMiLCJhbGxvd2VkIiwiQ09NUEFOSUVTX0tFWSIsIlBSRUZFUkVOQ0VTX0tFWSIsInByZWZlcmVuY2VDaGFuZ2VMaXN0ZW5lcnMiLCJkYXRhU2VydmljZSIsImdldENvbXBhbmllcyIsInN0b3JlZENvbXBhbmllcyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwiZ2V0Q29tcGFueSIsImNvbXBhbmllcyIsImZpbmQiLCJjb21wYW55IiwiZ2V0UHJlZmVyZW5jZXMiLCJzdG9yZWRQcmVmZXJlbmNlcyIsImdldEdsb2JhbFByZWZlcmVuY2VzIiwicHJlZmVyZW5jZXMiLCJmaWx0ZXIiLCJwcmVmIiwiY29tcGFueUlkIiwiZ2V0Q29tcGFueVByZWZlcmVuY2VzIiwic2F2ZVByZWZlcmVuY2UiLCJwcmVmZXJlbmNlIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJwIiwicHVzaCIsIm5vdGlmeVByZWZlcmVuY2VDaGFuZ2UiLCJjbG9uZVByZWZlcmVuY2VzIiwic291cmNlQ29tcGFueUlkIiwidGFyZ2V0Q29tcGFueUlkIiwic291cmNlUHJlZmVyZW5jZXMiLCJsZW5ndGgiLCJnbG9iYWxQcmVmcyIsInRhcmdldFByZWZlcmVuY2VzIiwibWFwIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiZmlsdGVyZWRQcmVmZXJlbmNlcyIsInVwZGF0ZWRQcmVmZXJlbmNlcyIsInRhcmdldENvbXBhbnkiLCJzb3VyY2VQcmVmc01hcCIsIk1hcCIsImZvckVhY2giLCJzZXQiLCJwb2xpY3kiLCJzb3VyY2VQcmVmIiwiZ2V0IiwiZ2xvYmFsUHJlZiIsImdldEVmZmVjdGl2ZVByZWZlcmVuY2UiLCJjb21wYW55UHJlZiIsInN1YnNjcmliZVRvUHJlZmVyZW5jZUNoYW5nZXMiLCJsaXN0ZW5lciIsImluZGV4T2YiLCJzcGxpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/dataService.ts\n"));

/***/ })

});